<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

	<h:head>
		<title>HydePark - v0.2 - Projekt zespołowy</title>
	</h:head>
		
	<h:body>	
		<p:layout fullPage="true">			
			<p:layoutUnit style="background-image:url('/hydepark/resources/gfx/header_background.png'); border: none;" position="top" height="74" resizable="false" closable="false" collapsible="false">
				<!-- *********************************** -->
				<!-- *********************************** -->				
				<!-- HEADER -->				
				<!-- *********************************** -->
				<!-- *********************************** -->
				<h:form>
					<h:commandLink action="/home">
						<img src="/hydepark/resources/gfx/sign.png" alt="header" />
					</h:commandLink>
				</h:form>
				
			</p:layoutUnit>
			
			<p:layoutUnit style="font-size: 0.7em;" position="left" width="168" resizable="false" closable="false" collapsible="false" scrollable="true">
				<!-- *********************************** -->
				<!-- *********************************** -->				
				<!-- LEFT -->				
				<!-- *********************************** -->
				<!-- *********************************** -->						
						
					<div id="loggedSign">							
						<p><b><h:outputText value="Nie jesteś zalogowany." rendered="#{!loginBean.loggedIn}"/></b></p>							
						<p><b><h:outputText value="Witaj #{loginBean.login}!"  rendered="#{loginBean.loggedIn}"/></b></p>						
					</div>																
				
				<h:form>				
					<p:menu id="log">  
				        <p:submenu label="Logowanie">  
				           	<p:menuitem icon="/hydepark/resources/gfx/icons/login.png"><h:commandLink value="Zaloguj" action="/panel/login" rendered="#{!loginBean.loggedIn}"/></p:menuitem>
							<p:menuitem><h:commandLink value="Wyloguj" action="#{loginBean.logout}" rendered="#{loginBean.loggedIn}"/></p:menuitem>
							<p:menuitem><h:commandLink value="Zarejestruj" action="/user/createForAll" rendered="#{!loginBean.loggedIn}"/></p:menuitem>
				        </p:submenu>  
				        <p:submenu label="Panel" rendered="#{loginBean.role == 'USER' || loginBean.role == 'ADMIN' || loginBean.role == 'TEACHER'}">  
				            <p:menuitem rendered="#{loginBean.role == 'USER' || loginBean.role == 'ADMIN' || loginBean.role == 'TEACHER'}"><h:commandLink value="Panel Użytkownika" action="#{loginBean.logAsUser}" /></p:menuitem>
				            <p:menuitem rendered="#{loginBean.role == 'TEACHER' || loginBean.role == 'ADMIN'}"><h:commandLink value="Panel Wykładowcy" action="#{loginBean.logAsTeacher}" /></p:menuitem>						
							<p:menuitem rendered="#{loginBean.role == 'ADMIN'}"><h:commandLink  value="Panel Administratora" action="#{loginBean.logAsAdmin}" /></p:menuitem>							   
				        </p:submenu>  
						<p:submenu label="Wykłady">
							 <p:menuitem><h:commandLink value="Wykłady" action="/lectures" /></p:menuitem>  
						</p:submenu>
						<p:submenu label="Na żywo...">
							<p:menuitem rendered="#{loginBean.role == 'USER' || loginBean.role == 'ADMIN'}"><h:commandLink value="Słuchaj wykładu!" action="/lectureInProgress.jsf" /></p:menuitem>
							<p:menuitem rendered="#{loginBean.role == 'TEACHER'}"><h:commandLink value="Nadaj wykład!" action="/lectureBroadcast.jsf" /></p:menuitem>
						</p:submenu>
	    			</p:menu>      						
				</h:form>
											
			</p:layoutUnit>
						
			<p:layoutUnit id="contentBox" style="font-size: 0.7em; border-style: none;" position="center" scrollable="true">
				<!-- *********************************** -->
				<!-- *********************************** -->				
				<!-- CENTER -->				
				<!-- *********************************** -->
				<!-- *********************************** -->
				
				<ui:insert name="content">
					
				</ui:insert>				
				
			</p:layoutUnit>
			
		</p:layout>
				
	</h:body>
</html>
